(this["webpackJsonpenterprise-react-2020"]=this["webpackJsonpenterprise-react-2020"]||[]).push([[0],{128:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(21),o=n.n(c),s=n(37),i=n(52),u=n(156),l=n(12),m=(n(105),n(88)),p=n(39),d=n(27),f="".concat("common","/CHANGE_LANGUAGE"),g={language:"en"};var b=Object(l.combineReducers)({weather:p.b,common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.language;switch(n){case f:return Object(d.a)({},e,{language:r});default:return e}}}),E=n(23),h=n.n(E),y=n(20),j=h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(p.d)()]);case 2:case"end":return e.stop()}}),e)})),v=Object(m.a)(),O=Object(l.compose)(Object(l.applyMiddleware)(v)),x=Object(l.createStore)(b,O);v.run(j);var w=x,C=n(86),k=Object(C.a)({typography:{fontSize:16}}),R=n(32),T=n(89),N=n(8),S=n(47),_=n(79),A=n.n(_),G=n(148),P=n(151),U=n(152),L=n(153),W=n(159),z=n(154),H=n(157),I=Object(l.compose)(R.e,Object(s.b)((function(e){return{language:e.common.language}}),{setLanguage:function(e){return{type:f,language:e}}}),Object(N.a)((function(e){return{title:{marginLeft:e.spacing(1)},langSelector:{marginLeft:"auto",marginRight:30},radioButtons:{display:"flex",flexDirection:"row"}}})),Object(S.b)())((function(e){var t=e.t,n=e.classes,r=e.history,c=e.location,o=e.language,s="/"===c.pathname;return a.a.createElement(G.a,{position:"static",color:"default"},a.a.createElement(P.a,null,a.a.createElement(U.a,{disabled:s,onClick:function(){return r.goBack()}},a.a.createElement(A.a,null)),a.a.createElement("div",{className:n.title},t("app_title")),a.a.createElement(L.a,{component:"fieldset",className:n.langSelector},a.a.createElement(W.a,{name:"language",className:n.radioButtons,value:o,onChange:function(t){var n=e.i18n,r=e.setLanguage,a=t.target.value;r(a),n.changeLanguage(a)}},a.a.createElement(z.a,{value:"en",control:a.a.createElement(H.a,{color:"primary"}),label:"EN"}),a.a.createElement(z.a,{value:"de",control:a.a.createElement(H.a,{color:"primary"}),label:"DE"})))))})),B=n(81),D=n.n(B),M=n(82),q=n.n(M),F=n(160),J=n(155),Q=Object(l.compose)(Object(s.b)((function(e){return{isError:e.weather.isError,error:e.weather.error}}),{clearErrorMessage:p.a}),Object(N.a)((function(e){return{error:{backgroundColor:e.palette.error.dark},icon:{fontSize:20,opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}})))((function(e){var t=e.classes,n=e.isError,r=e.error,c=e.clearErrorMessage,o=r.message||"Something went wrong";return a.a.createElement(F.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:n,autoHideDuration:6e3,onClose:c},a.a.createElement(J.a,{className:t.error,message:a.a.createElement("span",{className:t.message},a.a.createElement(D.a,{className:t.icon}),o),action:[a.a.createElement(U.a,{key:"close",color:"inherit",onClick:c},a.a.createElement(q.a,{className:t.icon}))]}))})),V=n(72),K=Object(l.compose)(Object(N.a)((function(e){return{container:{display:"flex",justifyContent:"center",alignItems:"center",height:100}}})))((function(e){var t=e.classes;return a.a.createElement("div",{className:t.container},a.a.createElement(V.a,null))})),X=Object(r.lazy)((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,247))})),Y=Object(r.lazy)((function(){return Promise.all([n.e(4),n.e(6)]).then(n.bind(null,254))})),Z=Object(N.a)((function(e){return{container:{maxWidth:1200,marginLeft:"auto",marginRight:"auto",padding:e.spacing(6),backgroundColor:e.palette.background.paper,fontSize:e.typography.fontSize,fontFamily:e.typography.fontFamily},headerContainer:{height:100},contentContainer:{padding:e.spacing(2),minHeight:120}}}))((function(e){var t=e.classes;return a.a.createElement("div",{className:t.container},a.a.createElement("div",{className:t.headerContainer},a.a.createElement(I,null)),a.a.createElement(T.a,{className:t.contentContainer},a.a.createElement(r.Suspense,{fallback:a.a.createElement(K,null)},a.a.createElement(R.a,{exact:!0,path:"/",component:Y}),a.a.createElement(R.a,{path:"/current",component:X}))),a.a.createElement(Q,null))})),$=function(){return a.a.createElement(s.a,{store:w},a.a.createElement(i.a,{basename:"/enterprise-react-2020"},a.a.createElement(u.a,{theme:k},a.a.createElement(Z,null))))},ee=n(87),te=n(85);ee.a.use(te.a).use(S.a).init({backend:{loadPath:"translations/locales/{{lng}}/{{ns}}.json"},lng:"en",fallbackLng:"en",ns:["translations"],defaultNS:"translations",debug:!1,interpolation:{escapeValue:!1},react:{wait:!0,useSuspense:!1}}),o.a.render(a.a.createElement($,null),document.getElementById("root"))},34:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o}));var r={APPID:"0cfcdf45cac89814e88ce229ab3d5a0a"},a="https://api.openweathermap.org/data/2.5/weather",c=5e3,o=5e3},39:function(e,t,n){"use strict";var r=n(23),a=n.n(r),c=n(27),o=n(20),s=n(63),i=n.n(s),u=n(34),l=function(e){return new Promise((function(t,n){return setTimeout((function(){return n(new Error("Network timeout"))}),e)}))};function m(e){var t=e.headers.get("content-type");if(t&&t.includes("application/json"))return function(e){return e.json().then((function(t){return e.ok?t:Promise.reject({message:t,status:e.status,statusText:e.statusText})}))}(e);if(t&&t.includes("text/plain")||t.includes("text/html"))return function(e){return e.text().then((function(t){return e.ok?t:Promise.reject({message:t,status:e.status,statusText:e.statusText})}))}(e);throw new Error("Sorry, content-type ".concat(t," not supported"))}var p=function(e){var t=e.baseUrl,n=e.method,r=e.signal,o=e.queryParams,s=e.bodyObj,p=i.a.parseUrl(t),d=p.url,f=p.query,g=i.a.stringify(Object(c.a)({},f,{},o));return function(e,t){var n,r;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,a.a.awrap(Promise.race([fetch(e,t),l(u.b)]));case 3:return n=c.sent,c.next=6,a.a.awrap(m(n));case 6:return r=c.sent,c.abrupt("return",{response:{ok:!0},data:r});case 10:return c.prev=10,c.t0=c.catch(0),c.abrupt("return",{response:{ok:!1},error:{message:c.t0.message,status:c.t0.status,statusText:c.t0.statusText}});case 13:case"end":return c.stop()}}),null,null,[[0,10]])}(g?"".concat(d,"?").concat(g):d,{method:n,signal:r,headers:{Accept:"application/json"},body:s?JSON.stringify(s):null})},d=function(e){var t=e.cityCode,n=e.signal,r={baseUrl:u.a,method:"GET",signal:n,queryParams:Object(c.a)({id:t,units:"metric"},u.d)};return p(r)};n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return w}));var f="".concat("weather","/GET_CURRENT_WEATHER_TRIGGER"),g="".concat("weather","/GET_CURRENT_WEATHER_REQUEST"),b="".concat("weather","/GET_CURRENT_WEATHER_SUCCESS"),E="".concat("weather","/GET_CURRENT_WEATHER_FAILURE"),h="".concat("weather","/CLEAR_ERROR_MESSAGE"),y={loading:!1,loaded:!1,cityCode:"",currentWeather:{},isError:!1,error:{}},j=function(){return{type:h}},v=function(e,t){return{type:f,cityCode:e,history:t}};function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.cityCode,a=t.currentWeather,o=void 0===a?{}:a,s=t.error,i=void 0===s?{}:s;switch(n){case g:return Object(c.a)({},e,{cityCode:r,currentWeather:o,isError:!1,loading:!0,loaded:!1});case b:return Object(c.a)({},e,{currentWeather:o,loading:!1,error:i,loaded:!0});case E:return Object(c.a)({},e,{isError:!0,error:i,loading:!1});case h:return Object(c.a)({},e,{isError:!1});default:return e}}var x=a.a.mark((function e(t){var n,r,c,s,i,u,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new AbortController,r=n.signal,c=t.cityCode,s=t.history,e.next=5,Object(o.e)({type:g,cityCode:c});case 5:return e.prev=5,e.next=8,Object(o.b)(d,{cityCode:c,signal:r});case 8:if(!(i=e.sent)||!i.response.ok){e.next=17;break}return u=i.data,e.next=13,Object(o.e)({type:b,currentWeather:u});case 13:return e.next=15,Object(o.b)(s.push,"/current");case 15:e.next=22;break;case 17:return l=i.error,e.next=20,Object(o.e)({type:E,error:l});case 20:return e.next=22,Object(o.c)();case 22:e.next=28;break;case 24:return e.prev=24,e.t0=e.catch(5),e.next=28,Object(o.e)({type:E,error:e.t0});case 28:return e.prev=28,e.next=31,Object(o.d)();case 31:if(!e.sent){e.next=33;break}n.abort();case 33:return e.finish(28);case 34:case"end":return e.stop()}}),e,null,[[5,24,28,34]])})),w=a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)([Object(o.f)(f,x)]);case 2:case"end":return e.stop()}}),e)}))},72:function(e,t,n){"use strict";var r=n(73),a=n(0),c=n.n(a),o=n(129),s=n(34);t.a=function(){var e=s.c,t=Object(a.useState)(!1),n=Object(r.a)(t,2),i=n[0],u=n[1];return Object(a.useEffect)((function(){var t=setTimeout((function(){u(!0)}),e);return function(){clearTimeout(t)}}),[e]),i?c.a.createElement(o.a,null):null}},97:function(e,t,n){e.exports=n(128)}},[[97,1,2]],[3,5]]);